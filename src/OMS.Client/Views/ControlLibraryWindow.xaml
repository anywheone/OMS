<Window x:Class="OMS.Client.Views.ControlLibraryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        Title="ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒª - OMS"
        Height="700"
        Width="1200"
        MinHeight="500"
        MinWidth="800"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <Border Grid.Row="0"
                Background="{StaticResource PrimaryBrush}"
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="ðŸ“š ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒª"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="White"
                           VerticalAlignment="Center"/>

                <TextBlock Grid.Column="1"
                           Text="å®Ÿå‹™ã§ä½¿ç”¨ã™ã‚‹å„ªå…ˆåº¦ã®é«˜ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ä¸€è¦§"
                           FontSize="13"
                           Foreground="White"
                           Opacity="0.9"
                           VerticalAlignment="Center"
                           Margin="20,0,0,0"/>
            </Grid>
        </Border>

        <!-- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒãƒ¼ -->
        <Border Grid.Row="1"
                Background="{StaticResource SurfaceBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,0,1"
                Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ -->
                <TextBox Grid.Column="0"
                         Style="{StaticResource InputTextBoxStyle}"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center">
                    <TextBox.Resources>
                        <Style TargetType="TextBox" BasedOn="{StaticResource InputTextBoxStyle}">
                            <Style.Triggers>
                                <Trigger Property="Text" Value="">
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <VisualBrush AlignmentX="Left" AlignmentY="Center" Stretch="None">
                                                <VisualBrush.Visual>
                                                    <TextBlock Text="ðŸ” ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’æ¤œç´¢..."
                                                               Foreground="Gray"
                                                               Margin="5,0,0,0"/>
                                                </VisualBrush.Visual>
                                            </VisualBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Resources>
                </TextBox>

                <!-- ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ -->
                <TextBlock Grid.Column="1"
                           Text="ã‚«ãƒ†ã‚´ãƒª:"
                           VerticalAlignment="Center"
                           Margin="10,0,0,0"/>

                <ComboBox Grid.Column="2"
                          Style="{StaticResource InputComboBoxStyle}"
                          ItemsSource="{Binding Categories}"
                          SelectedItem="{Binding SelectedCategory}"
                          Margin="5,0,0,0"/>
            </Grid>
        </Border>

        <!-- ã‚¿ãƒ–ãƒãƒ¼ -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,0,1"
                Padding="20,10">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="BtnOmsTab"
                        Content="ðŸ¢ OMSç‰¹æœ‰ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«"
                        FontSize="14"
                        FontWeight="Medium"
                        Margin="0,0,20,0"
                        Background="Transparent"
                        BorderThickness="0,0,0,3"
                        BorderBrush="{StaticResource PrimaryBrush}"
                        Foreground="{StaticResource PrimaryBrush}"
                        Padding="10,8"
                        Cursor="Hand"
                        Click="BtnOmsTab_Click"/>

                <Button x:Name="BtnGeneralTab"
                        Content="ðŸ’¼ ä¸€èˆ¬æ¥­å‹™ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«"
                        FontSize="14"
                        FontWeight="Medium"
                        Background="Transparent"
                        BorderThickness="0"
                        BorderBrush="Transparent"
                        Foreground="Gray"
                        Padding="10,8"
                        Cursor="Hand"
                        Click="BtnGeneralTab_Click"/>
            </StackPanel>
        </Border>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <Grid Grid.Row="3" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="400"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- å·¦å´: ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ä¸€è¦§ -->
            <Border Grid.Column="0"
                    Style="{StaticResource CardStyle}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0"
                               Text="ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ä¸€è¦§"
                               FontSize="16"
                               FontWeight="Bold"
                               Margin="15,15,15,10"/>

                    <ListBox Grid.Row="1"
                             ItemsSource="{Binding FilteredControls}"
                             SelectedItem="{Binding SelectedControl}"
                             BorderThickness="0"
                             Background="Transparent"
                             ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border Background="White"
                                        BorderBrush="{StaticResource BorderBrush}"
                                        BorderThickness="0,0,0,1"
                                        Padding="10"
                                        Margin="5,2">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«å -->
                                        <TextBlock Grid.Row="0"
                                                   FontSize="14"
                                                   FontWeight="SemiBold">
                                            <Run Text="{Binding Icon}"/>
                                            <Run Text="{Binding Name}"/>
                                        </TextBlock>

                                        <!-- èª¬æ˜Ž -->
                                        <TextBlock Grid.Row="1"
                                                   Text="{Binding Description}"
                                                   FontSize="11"
                                                   Foreground="{StaticResource TextSecondaryBrush}"
                                                   TextWrapping="Wrap"
                                                   Margin="0,5,0,5"/>

                                        <!-- ãƒ¡ã‚¿æƒ…å ± -->
                                        <StackPanel Grid.Row="2"
                                                    Orientation="Horizontal">
                                            <Border Background="{StaticResource PrimaryLightBrush}"
                                                    CornerRadius="3"
                                                    Padding="5,2"
                                                    Margin="0,0,5,0">
                                                <TextBlock Text="{Binding Category}"
                                                           FontSize="10"
                                                           Foreground="{StaticResource PrimaryBrush}"/>
                                            </Border>
                                            <Border Background="#FFF3E0"
                                                    CornerRadius="3"
                                                    Padding="5,2">
                                                <TextBlock FontSize="10"
                                                           Foreground="#F57C00">
                                                    <Run Text="å„ªå…ˆåº¦:"/>
                                                    <Run Text="{Binding Priority}"/>
                                                </TextBlock>
                                            </Border>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </Border>

            <!-- å³å´: è©³ç´°ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
            <Border Grid.Column="2"
                    Style="{StaticResource CardStyle}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20"
                                DataContext="{Binding SelectedControl}">
                        <!-- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º -->
                        <TextBlock Text="ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’é¸æŠžã—ã¦ãã ã•ã„"
                                   FontSize="16"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Margin="0,50,0,0">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <!-- é¸æŠžæ™‚ã®è©³ç´°è¡¨ç¤º -->
                        <StackPanel>
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>

                            <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                            <TextBlock FontSize="20"
                                       FontWeight="Bold"
                                       Margin="0,0,0,10">
                                <Run Text="{Binding Icon, Mode=OneWay}"/>
                                <Run Text="{Binding Name, Mode=OneWay}"/>
                            </TextBlock>

                            <!-- ã‚«ãƒ†ã‚´ãƒªãƒ»å„ªå…ˆåº¦ -->
                            <StackPanel Orientation="Horizontal"
                                        Margin="0,0,0,15">
                                <Border Background="{StaticResource PrimaryBrush}"
                                        CornerRadius="4"
                                        Padding="8,4"
                                        Margin="0,0,10,0">
                                    <TextBlock Text="{Binding Category, Mode=OneWay}"
                                               FontSize="12"
                                               Foreground="White"/>
                                </Border>
                                <Border Background="{StaticResource WarningBrush}"
                                        CornerRadius="4"
                                        Padding="8,4">
                                    <TextBlock FontSize="12"
                                               Foreground="White">
                                        <Run Text="å„ªå…ˆåº¦:"/>
                                        <Run Text="{Binding Priority, Mode=OneWay}"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>

                            <!-- èª¬æ˜Ž -->
                            <TextBlock Text="ðŸ“ èª¬æ˜Ž"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Margin="0,10,0,5"/>
                            <TextBlock Text="{Binding Description, Mode=OneWay}"
                                       TextWrapping="Wrap"
                                       Margin="0,0,0,15"/>

                            <!-- ä¸»ãªç”¨é€” -->
                            <TextBlock Text="ðŸ’¼ ä¸»ãªç”¨é€”"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Margin="0,10,0,5"/>
                            <TextBlock Text="{Binding PrimaryUse, Mode=OneWay}"
                                       TextWrapping="Wrap"
                                       Margin="0,0,0,15"/>

                            <!-- ä½¿ç”¨é »åº¦ -->
                            <TextBlock Text="ðŸ“Š ä½¿ç”¨é »åº¦"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Margin="0,10,0,5"/>
                            <TextBlock Text="{Binding UsageFrequency, Mode=OneWay}"
                                       Margin="0,0,0,15"/>

                            <!-- ã‚¿ã‚° -->
                            <TextBlock Text="ðŸ·ï¸ ã‚¿ã‚°"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Margin="0,10,0,5"/>
                            <ItemsControl ItemsSource="{Binding Tags, Mode=OneWay}"
                                          Margin="0,0,0,20">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#E8EAF6"
                                                CornerRadius="12"
                                                Padding="10,4"
                                                Margin="0,0,5,5">
                                            <TextBlock Text="{Binding}"
                                                       FontSize="11"
                                                       Foreground="#3F51B5"/>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
                            <TextBlock Text="ðŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Margin="0,10,0,10"/>
                            <Border Background="#F5F5F5"
                                    BorderBrush="{StaticResource BorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Padding="15"
                                    MinHeight="200">
                                <ContentControl Content="{Binding PreviewControl, Mode=OneWay}"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
